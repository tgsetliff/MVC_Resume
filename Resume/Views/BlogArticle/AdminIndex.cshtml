@using PagedList;
@using PagedList.Mvc;

@model PagedList.PagedList<Resume.Models.BlogArticle>

@{
    ViewBag.Title = "AdminIndex";
}
<section class="section blog" id="blog">
    <div class="container" id="blogContainer">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-6">
                    <img src="/img/hero-sm.png" />
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="row">
                <div class="col-md-3">
                    <p>@Html.ActionLink("Create New", "Create")</p>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-2">
                    <p><a href="/Account/Login">Register/Log In</a></p>
                </div>
            </div>
        </div>
        <div class="col-lg-push-4">
            <table class="table">
                <tr>
                    <th>
                        <h2>Create Date</h2>
                        @*@Html.DisplayNameFor(model => model.CreateDate)*@
                    </th>
                    <th>
                        <h2>Title</h2>
                        @*@Html.DisplayNameFor(model => model.Title)*@
                    </th>
                    <th>
                        <h2>Published</h2>
                        @*@Html.DisplayNameFor(model => model.Published)*@
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreateDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Published)
                        </td>
                        <td>
                            @* need to protect these if user is not logged in or registered
                                Details should be available regardless but Edit and delete should not
                                 show unless the user is an admin*@

                            @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                        </td>
                    </tr>
                }

            </table>

            <ul class="pager">
                @Html.PagedListPager(Model, page => Url.Action("AdminIndex", new { page}))
            </ul>

        </div>
    </div>
</section>